<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode | default " en" }}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- SEO Meta Tags -->
    <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>
    <meta name="description"
        content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Site.Params.description }}{{ end }}">
    <meta name="author" content="{{ .Site.Params.author }}">
    <meta name="keywords" content="Las Vegas real estate, property management, home buying, home selling, mortgage">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ .Permalink }}">
    <meta property="og:title"
        content="{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}">
    <meta property="og:description"
        content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Site.Params.description }}{{ end }}">
    <meta property="og:image" content="{{ .Site.BaseURL }}/images/logo.webp">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{ .Permalink }}">
    <meta property="twitter:title"
        content="{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}">
    <meta property="twitter:description"
        content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Site.Params.description }}{{ end }}">
    <meta property="twitter:image" content="{{ .Site.BaseURL }}/images/logo.webp">

    <!-- Favicon -->
    <link rel="icon" type="image/webp" href="/images/logo.webp">
    <link rel="apple-touch-icon" href="/images/logo.webp">

    <!-- Supabase Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'grand-dark': '#0a0a0a',
                        'grand-darker': '#050505',
                        'grand-charcoal': '#1a1a1a',
                        'grand-steel': '#2a2a2a',
                        'grand-silver': '#e5e5e5',
                        'grand-silver': '#e5e5e5',
                        'grand-white': '#ffffff'
                    },
                    fontFamily: {
                        'sans': ['Inter', 'ui-sans-serif', 'system-ui'],
                        'display': ['Poppins', 'ui-sans-serif', 'system-ui'],
                        'cinzel': ['Cinzel', 'serif']
                    },
                    backgroundImage: {
                        'glass-gradient': 'linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05))',
                    },
                    backdropBlur: {
                        'glass': '24px',
                    },
                    animation: {
                        'shimmer': 'shimmer 3s ease-in-out infinite',
                    },
                    keyframes: {
                        shimmer: {
                            '0%': { backgroundPosition: '-200% center' },
                            '100%': { backgroundPosition: '200% center' },
                        }
                    }
                }
            }
        }
    </script>

    <!-- Custom Styles -->
    <style>
        @keyframes shimmer-letters {
            0% {
                background-position: -100% center;
            }

            100% {
                background-position: 100% center;
            }
        }

        .shimmer-text {
            background: linear-gradient(to right,
                    rgba(229, 229, 229, 0.5) 0%,
                    rgba(229, 229, 229, 0.5) 30%,
                    rgba(255, 255, 255, 1) 50%,
                    rgba(229, 229, 229, 0.5) 70%,
                    rgba(229, 229, 229, 0.5) 100%);
            background-size: 200% 100%;
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shimmer-letters 3s ease-in-out infinite;
        }

        /* Clean glass card effects */
        .glass-card {
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(2.5px);
            -webkit-backdrop-filter: blur(2.5px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        /* Top edge highlight */
        .glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg,
                    transparent,
                    rgba(255, 255, 255, 0.6),
                    transparent);
            pointer-events: none;
        }

        /* Left edge highlight */
        .glass-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            width: 1px;
            background: linear-gradient(180deg,
                    rgba(255, 255, 255, 0.6),
                    transparent);
            pointer-events: none;
        }

        /* Sheen sweep on hover */
        @keyframes sheen-sweep {
            0% {
                transform: translateX(-200%) skewX(-12deg);
            }

            100% {
                transform: translateX(200%) skewX(-12deg);
            }
        }

        .sheen {
            position: absolute;
            inset: 0;
            overflow: hidden;
            border-radius: 1.5rem;
            pointer-events: none;
        }

        .sheen::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                    transparent 0%,
                    transparent 40%,
                    rgba(255, 255, 255, 0.2) 50%,
                    transparent 60%,
                    transparent 100%);
            transform: translateX(-200%) skewX(-12deg);
        }

        .glass-card:hover .sheen::after,
        .glass-card:focus .sheen::after {
            animation: sheen-sweep 1000ms ease-out;
        }

        /* Hover lift effect */
        .glass-card:hover,
        .glass-card:focus {
            transform: translateY(-2px) scale(1.01);
            background-color: rgba(255, 255, 255, 0.08) !important;
        }

        /* CTA underline animation */
        .cta-link {
            position: relative;
            display: inline-block;
        }

        .cta-link::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 1px;
            background: rgba(255, 255, 255, 0.6);
            transition: width 300ms ease;
        }

        .glass-card:hover .cta-link::after,
        .glass-card:focus .cta-link::after {
            width: 100%;
        }

        /* Accessibility: reduced motion */
        @media (prefers-reduced-motion: reduce) {
            .sheen {
                display: none;
            }

            .glass-card {
                transition: none !important;
            }
        }

        /* Carbon fiber background pattern */
        .carbon-fiber-bg {
            background-color: #0a0a0a;
            background-image:
                repeating-linear-gradient(45deg,
                    #0a0a0a 0px,
                    #0a0a0a 6px,
                    #141414 6px,
                    #141414 12px),
                repeating-linear-gradient(-45deg,
                    #0a0a0a 0px,
                    #0a0a0a 6px,
                    #050505 6px,
                    #050505 12px),
                radial-gradient(ellipse at center,
                    #0d0d0d 0%,
                    #0a0a0a 50%,
                    #080808 100%);
            background-size: 20px 20px, 20px 20px, 100% 100%;
        }

        /* Anodized metal background pattern */
        .anodized-metal-bg {
            background-color: #0a0a0a;
            background-image:
                repeating-linear-gradient(90deg,
                    transparent,
                    transparent 2px,
                    rgba(255, 255, 255, 0.03) 2px,
                    rgba(255, 255, 255, 0.03) 3px),
                repeating-linear-gradient(0deg,
                    rgba(255, 255, 255, 0.015) 0px,
                    rgba(0, 0, 0, 0.03) 1px,
                    rgba(255, 255, 255, 0.015) 2px),
                linear-gradient(180deg,
                    #0c0c0c 0%,
                    #0a0a0a 50%,
                    #080808 100%);
            background-size: 3px 3px, 100% 2px, 100% 100%;
        }
    </style>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/TextPlugin.min.js"></script>

    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- Custom Styles -->
    {{ $style := resources.Get "css/main.css" | resources.Minify | resources.Fingerprint }}
    <link rel="stylesheet" href="{{ $style.Permalink }}">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "RealEstateAgent",
        "name": "{{ .Site.Title }}",
        "description": "{{ .Site.Params.description }}",
        "url": "{{ .Site.BaseURL }}",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Las Vegas",
            "addressRegion": "Nevada",
            "addressCountry": "US"
        }
    }
    </script>
</head>

<body class="font-sans antialiased bg-grand-dark text-grand-silver">
    <!-- Skip to content for accessibility -->
    <a href="#main-content"
        class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-grand-blue text-white px-4 py-2 rounded">
        Skip to main content
    </a>

    <!-- Header -->
    {{ partial "header.html" . }}

    <!-- Main Content -->
    <main id="main-content" class="min-h-screen">
        {{ block "main" . }}{{ end }}
    </main>

    <!-- Footer -->
    {{ partial "footer.html" . }}

    <!-- Custom JavaScript -->
    {{ $js := resources.Get "js/main.js" | resources.Minify | resources.Fingerprint }}
    <script src="{{ $js.Permalink }}"></script>

    <!-- GSAP Animations -->
    <script>
        gsap.registerPlugin(ScrollTrigger, TextPlugin);

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    gsap.to(window, { duration: 1, scrollTo: target, ease: "power2.inOut" });
                }
            });
        });

        // Hero H1 zoom-in animation
        const heroH1 = document.querySelector('h1.font-cinzel');
        if (heroH1) {
            gsap.fromTo(heroH1,
                {
                    scale: 0.8,
                    opacity: 0
                },
                {
                    scale: 1,
                    opacity: 1,
                    duration: 1.5,
                    ease: "power3.out",
                    delay: 0.2
                }
            );
        }

        // Page load animations (header animation removed for visibility)

        // Initialize Supabase
        if (typeof window.supabase !== 'undefined') {
            window.grandPrixSupabase = window.grandPrixSupabase || {};
            window.grandPrixSupabase.config = {
                url: 'https://supabase.grandprixrealty.agency',
                anonKey: 'eyJhbGciOiAiSFMyNTYiLCAidHlwIjogIkpXVCJ9.eyJpc3MiOiAic3VwYWJhc2UiLCAicm9sZSI6ICJhbm9uIiwgImlhdCI6IDE3NjI1ODAzMjcsICJleHAiOiAyMTQ3NDgzNjQ3fQ.EtTYOJ0VIULsoMLfeDYWtYcZyAKGQiDiSLP9BKRWwlk'
            };
            window.grandPrixSupabase.client = window.supabase.createClient(
                window.grandPrixSupabase.config.url,
                window.grandPrixSupabase.config.anonKey
            );
            console.log('âœ… Supabase initialized for Grand Prix Realty');
        }
    </script>
</body>

</html>